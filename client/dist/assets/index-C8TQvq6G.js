(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ur(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const G={},xt=[],Re=()=>{},Do=()=>!1,Bs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Dr=t=>t.startsWith("onUpdate:"),oe=Object.assign,Mr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Mo=Object.prototype.hasOwnProperty,H=(t,e)=>Mo.call(t,e),I=Array.isArray,Ot=t=>qs(t)==="[object Map]",fi=t=>qs(t)==="[object Set]",D=t=>typeof t=="function",Z=t=>typeof t=="string",Xe=t=>typeof t=="symbol",X=t=>t!==null&&typeof t=="object",di=t=>(X(t)||D(t))&&D(t.then)&&D(t.catch),pi=Object.prototype.toString,qs=t=>pi.call(t),Fo=t=>qs(t).slice(8,-1),gi=t=>qs(t)==="[object Object]",Fr=t=>Z(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zt=Ur(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hs=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},No=/-(\w)/g,Qe=Hs(t=>t.replace(No,(e,s)=>s?s.toUpperCase():"")),Bo=/\B([A-Z])/g,ft=Hs(t=>t.replace(Bo,"-$1").toLowerCase()),_i=Hs(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zs=Hs(t=>t?`on${_i(t)}`:""),Ge=(t,e)=>!Object.is(t,e),er=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},vr=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},qo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let fn;const Ws=()=>fn||(fn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Nr(t){if(I(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=Z(r)?Vo(r):Nr(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(Z(t)||X(t))return t}const Ho=/;(?![^(]*\))/g,Wo=/:([^]+)/,Ko=/\/\*[^]*?\*\//g;function Vo(t){const e={};return t.replace(Ko,"").split(Ho).forEach(s=>{if(s){const r=s.split(Wo);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Pt(t){let e="";if(Z(t))e=t;else if(I(t))for(let s=0;s<t.length;s++){const r=Pt(t[s]);r&&(e+=r+" ")}else if(X(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Jo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zo=Ur(Jo);function vi(t){return!!t||t===""}const yi=t=>!!(t&&t.__v_isRef===!0),ot=t=>Z(t)?t:t==null?"":I(t)||X(t)&&(t.toString===pi||!D(t.toString))?yi(t)?ot(t.value):JSON.stringify(t,mi,2):String(t),mi=(t,e)=>yi(e)?mi(t,e.value):Ot(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[tr(r,i)+" =>"]=n,s),{})}:fi(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>tr(s))}:Xe(e)?tr(e):X(e)&&!I(e)&&!gi(e)?String(e):e,tr=(t,e="")=>{var s;return Xe(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pe;class Go{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pe,!e&&pe&&(this.index=(pe.scopes||(pe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=pe;try{return pe=this,e()}finally{pe=s}}}on(){++this._on===1&&(this.prevScope=pe,pe=this)}off(){this._on>0&&--this._on===0&&(pe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Qo(){return pe}let z;const sr=new WeakSet;class wi{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pe&&pe.active&&pe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,sr.has(this)&&(sr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Si(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,dn(this),Ti(this);const e=z,s=Te;z=this,Te=!0;try{return this.fn()}finally{Ei(this),z=e,Te=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Hr(e);this.deps=this.depsTail=void 0,dn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?sr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){yr(this)&&this.run()}get dirty(){return yr(this)}}let bi=0,Gt,Qt;function Si(t,e=!1){if(t.flags|=8,e){t.next=Qt,Qt=t;return}t.next=Gt,Gt=t}function Br(){bi++}function qr(){if(--bi>0)return;if(Qt){let e=Qt;for(Qt=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Gt;){let e=Gt;for(Gt=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Ti(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ei(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Hr(r),Yo(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function yr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ki(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ki(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===is)||(t.globalVersion=is,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!yr(t))))return;t.flags|=2;const e=t.dep,s=z,r=Te;z=t,Te=!0;try{Ti(t);const n=t.fn(t._value);(e.version===0||Ge(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{z=s,Te=r,Ei(t),t.flags&=-3}}function Hr(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Hr(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Yo(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Te=!0;const xi=[];function Fe(){xi.push(Te),Te=!1}function Ne(){const t=xi.pop();Te=t===void 0?!0:t}function dn(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=z;z=void 0;try{e()}finally{z=s}}}let is=0;class Xo{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Wr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!z||!Te||z===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==z)s=this.activeLink=new Xo(z,this),z.deps?(s.prevDep=z.depsTail,z.depsTail.nextDep=s,z.depsTail=s):z.deps=z.depsTail=s,Oi(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=z.depsTail,s.nextDep=void 0,z.depsTail.nextDep=s,z.depsTail=s,z.deps===s&&(z.deps=r)}return s}trigger(e){this.version++,is++,this.notify(e)}notify(e){Br();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{qr()}}}function Oi(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Oi(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const mr=new WeakMap,ut=Symbol(""),wr=Symbol(""),os=Symbol("");function ne(t,e,s){if(Te&&z){let r=mr.get(t);r||mr.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Wr),n.map=r,n.key=s),n.track()}}function Me(t,e,s,r,n,i){const o=mr.get(t);if(!o){is++;return}const a=l=>{l&&l.trigger()};if(Br(),e==="clear")o.forEach(a);else{const l=I(t),u=l&&Fr(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,p)=>{(p==="length"||p===os||!Xe(p)&&p>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(os)),e){case"add":l?u&&a(o.get("length")):(a(o.get(ut)),Ot(t)&&a(o.get(wr)));break;case"delete":l||(a(o.get(ut)),Ot(t)&&a(o.get(wr)));break;case"set":Ot(t)&&a(o.get(ut));break}}qr()}function pt(t){const e=q(t);return e===t?e:(ne(e,"iterate",os),me(t)?e:e.map(se))}function Ks(t){return ne(t=q(t),"iterate",os),t}const Zo={__proto__:null,[Symbol.iterator](){return rr(this,Symbol.iterator,se)},concat(...t){return pt(this).concat(...t.map(e=>I(e)?pt(e):e))},entries(){return rr(this,"entries",t=>(t[1]=se(t[1]),t))},every(t,e){return Ie(this,"every",t,e,void 0,arguments)},filter(t,e){return Ie(this,"filter",t,e,s=>s.map(se),arguments)},find(t,e){return Ie(this,"find",t,e,se,arguments)},findIndex(t,e){return Ie(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ie(this,"findLast",t,e,se,arguments)},findLastIndex(t,e){return Ie(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ie(this,"forEach",t,e,void 0,arguments)},includes(...t){return nr(this,"includes",t)},indexOf(...t){return nr(this,"indexOf",t)},join(t){return pt(this).join(t)},lastIndexOf(...t){return nr(this,"lastIndexOf",t)},map(t,e){return Ie(this,"map",t,e,void 0,arguments)},pop(){return Nt(this,"pop")},push(...t){return Nt(this,"push",t)},reduce(t,...e){return pn(this,"reduce",t,e)},reduceRight(t,...e){return pn(this,"reduceRight",t,e)},shift(){return Nt(this,"shift")},some(t,e){return Ie(this,"some",t,e,void 0,arguments)},splice(...t){return Nt(this,"splice",t)},toReversed(){return pt(this).toReversed()},toSorted(t){return pt(this).toSorted(t)},toSpliced(...t){return pt(this).toSpliced(...t)},unshift(...t){return Nt(this,"unshift",t)},values(){return rr(this,"values",se)}};function rr(t,e,s){const r=Ks(t),n=r[e]();return r!==t&&!me(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const ea=Array.prototype;function Ie(t,e,s,r,n,i){const o=Ks(t),a=o!==t&&!me(t),l=o[e];if(l!==ea[e]){const h=l.apply(t,i);return a?se(h):h}let u=s;o!==t&&(a?u=function(h,p){return s.call(this,se(h),p,t)}:s.length>2&&(u=function(h,p){return s.call(this,h,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function pn(t,e,s,r){const n=Ks(t);let i=s;return n!==t&&(me(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,se(a),l,t)}),n[e](i,...r)}function nr(t,e,s){const r=q(t);ne(r,"iterate",os);const n=r[e](...s);return(n===-1||n===!1)&&zr(s[0])?(s[0]=q(s[0]),r[e](...s)):n}function Nt(t,e,s=[]){Fe(),Br();const r=q(t)[e].apply(t,s);return qr(),Ne(),r}const ta=Ur("__proto__,__v_isRef,__isVue"),Pi=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Xe));function sa(t){Xe(t)||(t=String(t));const e=q(this);return ne(e,"has",t),e.hasOwnProperty(t)}class Ai{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?fa:$i:i?Ri:Ci).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=I(e);if(!n){let l;if(o&&(l=Zo[s]))return l;if(s==="hasOwnProperty")return sa}const a=Reflect.get(e,s,ie(e)?e:r);return(Xe(s)?Pi.has(s):ta(s))||(n||ne(e,"get",s),i)?a:ie(a)?o&&Fr(s)?a:a.value:X(a)?n?Ii(a):Vr(a):a}}class ji extends Ai{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Ye(i);if(!me(r)&&!Ye(r)&&(i=q(i),r=q(r)),!I(e)&&ie(i)&&!ie(r))return l?!1:(i.value=r,!0)}const o=I(e)&&Fr(s)?Number(s)<e.length:H(e,s),a=Reflect.set(e,s,r,ie(e)?e:n);return e===q(n)&&(o?Ge(r,i)&&Me(e,"set",s,r):Me(e,"add",s,r)),a}deleteProperty(e,s){const r=H(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&Me(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!Xe(s)||!Pi.has(s))&&ne(e,"has",s),r}ownKeys(e){return ne(e,"iterate",I(e)?"length":ut),Reflect.ownKeys(e)}}class ra extends Ai{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const na=new ji,ia=new ra,oa=new ji(!0);const br=t=>t,ws=t=>Reflect.getPrototypeOf(t);function aa(t,e,s){return function(...r){const n=this.__v_raw,i=q(n),o=Ot(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?br:e?$s:se;return!e&&ne(i,"iterate",l?wr:ut),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function bs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function la(t,e){const s={get(n){const i=this.__v_raw,o=q(i),a=q(n);t||(Ge(n,a)&&ne(o,"get",n),ne(o,"get",a));const{has:l}=ws(o),u=e?br:t?$s:se;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&ne(q(n),"iterate",ut),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=q(i),a=q(n);return t||(Ge(n,a)&&ne(o,"has",n),ne(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=q(a),u=e?br:t?$s:se;return!t&&ne(l,"iterate",ut),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return oe(s,t?{add:bs("add"),set:bs("set"),delete:bs("delete"),clear:bs("clear")}:{add(n){!e&&!me(n)&&!Ye(n)&&(n=q(n));const i=q(this);return ws(i).has.call(i,n)||(i.add(n),Me(i,"add",n,n)),this},set(n,i){!e&&!me(i)&&!Ye(i)&&(i=q(i));const o=q(this),{has:a,get:l}=ws(o);let u=a.call(o,n);u||(n=q(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Ge(i,c)&&Me(o,"set",n,i):Me(o,"add",n,i),this},delete(n){const i=q(this),{has:o,get:a}=ws(i);let l=o.call(i,n);l||(n=q(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&Me(i,"delete",n,void 0),u},clear(){const n=q(this),i=n.size!==0,o=n.clear();return i&&Me(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=aa(n,t,e)}),s}function Kr(t,e){const s=la(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(H(s,n)&&n in r?s:r,n,i)}const ca={get:Kr(!1,!1)},ua={get:Kr(!1,!0)},ha={get:Kr(!0,!1)};const Ci=new WeakMap,Ri=new WeakMap,$i=new WeakMap,fa=new WeakMap;function da(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pa(t){return t.__v_skip||!Object.isExtensible(t)?0:da(Fo(t))}function Vr(t){return Ye(t)?t:Jr(t,!1,na,ca,Ci)}function ga(t){return Jr(t,!1,oa,ua,Ri)}function Ii(t){return Jr(t,!0,ia,ha,$i)}function Jr(t,e,s,r,n){if(!X(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=pa(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function At(t){return Ye(t)?At(t.__v_raw):!!(t&&t.__v_isReactive)}function Ye(t){return!!(t&&t.__v_isReadonly)}function me(t){return!!(t&&t.__v_isShallow)}function zr(t){return t?!!t.__v_raw:!1}function q(t){const e=t&&t.__v_raw;return e?q(e):t}function _a(t){return!H(t,"__v_skip")&&Object.isExtensible(t)&&vr(t,"__v_skip",!0),t}const se=t=>X(t)?Vr(t):t,$s=t=>X(t)?Ii(t):t;function ie(t){return t?t.__v_isRef===!0:!1}function va(t){return ya(t,!1)}function ya(t,e){return ie(t)?t:new ma(t,e)}class ma{constructor(e,s){this.dep=new Wr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:q(e),this._value=s?e:se(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||me(e)||Ye(e);e=r?e:q(e),Ge(e,s)&&(this._rawValue=e,this._value=r?e:se(e),this.dep.trigger())}}function wa(t){return ie(t)?t.value:t}const ba={get:(t,e,s)=>e==="__v_raw"?t:wa(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ie(n)&&!ie(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Li(t){return At(t)?t:new Proxy(t,ba)}class Sa{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Wr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=is-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&z!==this)return Si(this,!0),!0}get value(){const e=this.dep.track();return ki(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ta(t,e,s=!1){let r,n;return D(t)?r=t:(r=t.get,n=t.set),new Sa(r,n,s)}const Ss={},Is=new WeakMap;let at;function Ea(t,e=!1,s=at){if(s){let r=Is.get(s);r||Is.set(s,r=[]),r.push(t)}}function ka(t,e,s=G){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=T=>n?T:me(T)||n===!1||n===0?Je(T,1):Je(T);let c,h,p,g,b=!1,P=!1;if(ie(t)?(h=()=>t.value,b=me(t)):At(t)?(h=()=>u(t),b=!0):I(t)?(P=!0,b=t.some(T=>At(T)||me(T)),h=()=>t.map(T=>{if(ie(T))return T.value;if(At(T))return u(T);if(D(T))return l?l(T,2):T()})):D(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){Fe();try{p()}finally{Ne()}}const T=at;at=c;try{return l?l(t,3,[g]):t(g)}finally{at=T}}:h=Re,e&&n){const T=h,U=n===!0?1/0:n;h=()=>Je(T(),U)}const A=Qo(),R=()=>{c.stop(),A&&A.active&&Mr(A.effects,c)};if(i&&e){const T=e;e=(...U)=>{T(...U),R()}}let M=P?new Array(t.length).fill(Ss):Ss;const k=T=>{if(!(!(c.flags&1)||!c.dirty&&!T))if(e){const U=c.run();if(n||b||(P?U.some((B,Q)=>Ge(B,M[Q])):Ge(U,M))){p&&p();const B=at;at=c;try{const Q=[U,M===Ss?void 0:P&&M[0]===Ss?[]:M,g];M=U,l?l(e,3,Q):e(...Q)}finally{at=B}}}else c.run()};return a&&a(k),c=new wi(h),c.scheduler=o?()=>o(k,!1):k,g=T=>Ea(T,!1,c),p=c.onStop=()=>{const T=Is.get(c);if(T){if(l)l(T,4);else for(const U of T)U();Is.delete(c)}},e?r?k(!0):M=c.run():o?o(k.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function Je(t,e=1/0,s){if(e<=0||!X(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ie(t))Je(t.value,e,s);else if(I(t))for(let r=0;r<t.length;r++)Je(t[r],e,s);else if(fi(t)||Ot(t))t.forEach(r=>{Je(r,e,s)});else if(gi(t)){for(const r in t)Je(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Je(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hs(t,e,s,r){try{return r?t(...r):t()}catch(n){Vs(n,e,s)}}function $e(t,e,s,r){if(D(t)){const n=hs(t,e,s,r);return n&&di(n)&&n.catch(i=>{Vs(i,e,s)}),n}if(I(t)){const n=[];for(let i=0;i<t.length;i++)n.push($e(t[i],e,s,r));return n}}function Vs(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||G;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){Fe(),hs(i,null,10,[t,l,u]),Ne();return}}xa(t,s,n,r,o)}function xa(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const ce=[];let Ae=-1;const jt=[];let We=null,Et=0;const Ui=Promise.resolve();let Ls=null;function Oa(t){const e=Ls||Ui;return t?e.then(this?t.bind(this):t):e}function Pa(t){let e=Ae+1,s=ce.length;for(;e<s;){const r=e+s>>>1,n=ce[r],i=as(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function Gr(t){if(!(t.flags&1)){const e=as(t),s=ce[ce.length-1];!s||!(t.flags&2)&&e>=as(s)?ce.push(t):ce.splice(Pa(e),0,t),t.flags|=1,Di()}}function Di(){Ls||(Ls=Ui.then(Fi))}function Aa(t){I(t)?jt.push(...t):We&&t.id===-1?We.splice(Et+1,0,t):t.flags&1||(jt.push(t),t.flags|=1),Di()}function gn(t,e,s=Ae+1){for(;s<ce.length;s++){const r=ce[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ce.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Mi(t){if(jt.length){const e=[...new Set(jt)].sort((s,r)=>as(s)-as(r));if(jt.length=0,We){We.push(...e);return}for(We=e,Et=0;Et<We.length;Et++){const s=We[Et];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}We=null,Et=0}}const as=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Fi(t){try{for(Ae=0;Ae<ce.length;Ae++){const e=ce[Ae];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),hs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ae<ce.length;Ae++){const e=ce[Ae];e&&(e.flags&=-2)}Ae=-1,ce.length=0,Mi(),Ls=null,(ce.length||jt.length)&&Fi()}}let Ce=null,Ni=null;function Us(t){const e=Ce;return Ce=t,Ni=t&&t.type.__scopeId||null,e}function ja(t,e=Ce,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&kn(-1);const i=Us(e);let o;try{o=t(...n)}finally{Us(i),r._d&&kn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function rt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Fe(),$e(l,s,8,[t.el,a,t,e]),Ne())}}const Ca=Symbol("_vte"),Ra=t=>t.__isTeleport;function Qr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Qr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function $a(t,e){return D(t)?oe({name:t.name},e,{setup:t}):t}function Bi(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Yt(t,e,s,r,n=!1){if(I(t)){t.forEach((b,P)=>Yt(b,e&&(I(e)?e[P]:e),s,r,n));return}if(Xt(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Yt(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?en(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===G?a.refs={}:a.refs,h=a.setupState,p=q(h),g=h===G?()=>!1:b=>H(p,b);if(u!=null&&u!==l&&(Z(u)?(c[u]=null,g(u)&&(h[u]=null)):ie(u)&&(u.value=null)),D(l))hs(l,a,12,[o,c]);else{const b=Z(l),P=ie(l);if(b||P){const A=()=>{if(t.f){const R=b?g(l)?h[l]:c[l]:l.value;n?I(R)&&Mr(R,i):I(R)?R.includes(i)||R.push(i):b?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else b?(c[l]=o,g(l)&&(h[l]=o)):P&&(l.value=o,t.k&&(c[t.k]=o))};o?(A.id=-1,_e(A,s)):A()}}}Ws().requestIdleCallback;Ws().cancelIdleCallback;const Xt=t=>!!t.type.__asyncLoader,qi=t=>t.type.__isKeepAlive;function Ia(t,e){Hi(t,"a",e)}function La(t,e){Hi(t,"da",e)}function Hi(t,e,s=ue){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Js(e,r,s),s){let n=s.parent;for(;n&&n.parent;)qi(n.parent.vnode)&&Ua(r,e,s,n),n=n.parent}}function Ua(t,e,s,r){const n=Js(e,t,r,!0);Ki(()=>{Mr(r[e],n)},s)}function Js(t,e,s=ue,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Fe();const a=fs(s),l=$e(e,s,t,o);return a(),Ne(),l});return r?n.unshift(i):n.push(i),i}}const Be=t=>(e,s=ue)=>{(!cs||t==="sp")&&Js(t,(...r)=>e(...r),s)},Wi=Be("bm"),Da=Be("m"),Ma=Be("bu"),Fa=Be("u"),Na=Be("bum"),Ki=Be("um"),Ba=Be("sp"),qa=Be("rtg"),Ha=Be("rtc");function Wa(t,e=ue){Js("ec",t,e)}const Ka=Symbol.for("v-ndc");function _n(t,e,s,r){let n;const i=s,o=I(t);if(o||Z(t)){const a=o&&At(t);let l=!1,u=!1;a&&(l=!me(t),u=Ye(t),t=Ks(t)),n=new Array(t.length);for(let c=0,h=t.length;c<h;c++)n[c]=e(l?u?$s(se(t[c])):se(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(X(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Sr=t=>t?ho(t)?en(t):Sr(t.parent):null,Zt=oe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Sr(t.parent),$root:t=>Sr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ji(t),$forceUpdate:t=>t.f||(t.f=()=>{Gr(t.update)}),$nextTick:t=>t.n||(t.n=Oa.bind(t.proxy)),$watch:t=>dl.bind(t)}),ir=(t,e)=>t!==G&&!t.__isScriptSetup&&H(t,e),Va={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(ir(r,e))return o[e]=1,r[e];if(n!==G&&H(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&H(u,e))return o[e]=3,i[e];if(s!==G&&H(s,e))return o[e]=4,s[e];Tr&&(o[e]=0)}}const c=Zt[e];let h,p;if(c)return e==="$attrs"&&ne(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==G&&H(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,H(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return ir(n,e)?(n[e]=s,!0):r!==G&&H(r,e)?(r[e]=s,!0):H(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==G&&H(t,o)||ir(e,o)||(a=i[0])&&H(a,o)||H(r,o)||H(Zt,o)||H(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:H(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function vn(t){return I(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Tr=!0;function Ja(t){const e=Ji(t),s=t.proxy,r=t.ctx;Tr=!1,e.beforeCreate&&yn(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:b,activated:P,deactivated:A,beforeDestroy:R,beforeUnmount:M,destroyed:k,unmounted:T,render:U,renderTracked:B,renderTriggered:Q,errorCaptured:qe,serverPrefetch:gs,expose:et,inheritAttrs:Ut,components:_s,directives:vs,filters:Ys}=e;if(u&&za(u,r,null),o)for(const Y in o){const K=o[Y];D(K)&&(r[Y]=K.bind(s))}if(n){const Y=n.call(s,s);X(Y)&&(t.data=Vr(Y))}if(Tr=!0,i)for(const Y in i){const K=i[Y],tt=D(K)?K.bind(s,s):D(K.get)?K.get.bind(s,s):Re,ys=!D(K)&&D(K.set)?K.set.bind(s):Re,st=po({get:tt,set:ys});Object.defineProperty(r,Y,{enumerable:!0,configurable:!0,get:()=>st.value,set:Ee=>st.value=Ee})}if(a)for(const Y in a)Vi(a[Y],r,s,Y);if(l){const Y=D(l)?l.call(s):l;Reflect.ownKeys(Y).forEach(K=>{el(K,Y[K])})}c&&yn(c,t,"c");function ae(Y,K){I(K)?K.forEach(tt=>Y(tt.bind(s))):K&&Y(K.bind(s))}if(ae(Wi,h),ae(Da,p),ae(Ma,g),ae(Fa,b),ae(Ia,P),ae(La,A),ae(Wa,qe),ae(Ha,B),ae(qa,Q),ae(Na,M),ae(Ki,T),ae(Ba,gs),I(et))if(et.length){const Y=t.exposed||(t.exposed={});et.forEach(K=>{Object.defineProperty(Y,K,{get:()=>s[K],set:tt=>s[K]=tt})})}else t.exposed||(t.exposed={});U&&t.render===Re&&(t.render=U),Ut!=null&&(t.inheritAttrs=Ut),_s&&(t.components=_s),vs&&(t.directives=vs),gs&&Bi(t)}function za(t,e,s=Re){I(t)&&(t=Er(t));for(const r in t){const n=t[r];let i;X(n)?"default"in n?i=As(n.from||r,n.default,!0):i=As(n.from||r):i=As(n),ie(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function yn(t,e,s){$e(I(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Vi(t,e,s,r){let n=r.includes(".")?oo(s,r):()=>s[r];if(Z(t)){const i=e[t];D(i)&&ar(n,i)}else if(D(t))ar(n,t.bind(s));else if(X(t))if(I(t))t.forEach(i=>Vi(i,e,s,r));else{const i=D(t.handler)?t.handler.bind(s):e[t.handler];D(i)&&ar(n,i,t)}}function Ji(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Ds(l,u,o,!0)),Ds(l,e,o)),X(e)&&i.set(e,l),l}function Ds(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Ds(t,i,s,!0),n&&n.forEach(o=>Ds(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Ga[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Ga={data:mn,props:wn,emits:wn,methods:Vt,computed:Vt,beforeCreate:le,created:le,beforeMount:le,mounted:le,beforeUpdate:le,updated:le,beforeDestroy:le,beforeUnmount:le,destroyed:le,unmounted:le,activated:le,deactivated:le,errorCaptured:le,serverPrefetch:le,components:Vt,directives:Vt,watch:Ya,provide:mn,inject:Qa};function mn(t,e){return e?t?function(){return oe(D(t)?t.call(this,this):t,D(e)?e.call(this,this):e)}:e:t}function Qa(t,e){return Vt(Er(t),Er(e))}function Er(t){if(I(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function le(t,e){return t?[...new Set([].concat(t,e))]:e}function Vt(t,e){return t?oe(Object.create(null),t,e):e}function wn(t,e){return t?I(t)&&I(e)?[...new Set([...t,...e])]:oe(Object.create(null),vn(t),vn(e??{})):e}function Ya(t,e){if(!t)return e;if(!e)return t;const s=oe(Object.create(null),t);for(const r in e)s[r]=le(t[r],e[r]);return s}function zi(){return{app:null,config:{isNativeTag:Do,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xa=0;function Za(t,e){return function(r,n=null){D(r)||(r=oe({},r)),n!=null&&!X(n)&&(n=null);const i=zi(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Xa++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Il,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&D(c.install)?(o.add(c),c.install(u,...h)):D(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,p){if(!l){const g=u._ceVNode||ht(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,en(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&($e(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=Ct;Ct=u;try{return c()}finally{Ct=h}}};return u}}let Ct=null;function el(t,e){if(ue){let s=ue.provides;const r=ue.parent&&ue.parent.provides;r===s&&(s=ue.provides=Object.create(r)),s[t]=e}}function As(t,e,s=!1){const r=ue||Ce;if(r||Ct){let n=Ct?Ct._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&D(e)?e.call(r&&r.proxy):e}}const Gi={},Qi=()=>Object.create(Gi),Yi=t=>Object.getPrototypeOf(t)===Gi;function tl(t,e,s,r=!1){const n={},i=Qi();t.propsDefaults=Object.create(null),Xi(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:ga(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function sl(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=q(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(zs(t.emitsOptions,p))continue;const g=e[p];if(l)if(H(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const b=Qe(p);n[b]=kr(l,a,b,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{Xi(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!H(e,h)&&((c=ft(h))===h||!H(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=kr(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!H(e,h))&&(delete i[h],u=!0)}u&&Me(t.attrs,"set","")}function Xi(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(zt(l))continue;const u=e[l];let c;n&&H(n,c=Qe(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:zs(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=q(s),u=a||G;for(let c=0;c<i.length;c++){const h=i[c];s[h]=kr(n,l,h,u[h],t,!H(u,h))}}return o}function kr(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=H(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&D(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=fs(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===ft(s))&&(r=!0))}return r}const rl=new WeakMap;function Zi(t,e,s=!1){const r=s?rl:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!D(t)){const c=h=>{l=!0;const[p,g]=Zi(h,e,!0);oe(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return X(t)&&r.set(t,xt),xt;if(I(i))for(let c=0;c<i.length;c++){const h=Qe(i[c]);bn(h)&&(o[h]=G)}else if(i)for(const c in i){const h=Qe(c);if(bn(h)){const p=i[c],g=o[h]=I(p)||D(p)?{type:p}:oe({},p),b=g.type;let P=!1,A=!0;if(I(b))for(let R=0;R<b.length;++R){const M=b[R],k=D(M)&&M.name;if(k==="Boolean"){P=!0;break}else k==="String"&&(A=!1)}else P=D(b)&&b.name==="Boolean";g[0]=P,g[1]=A,(P||H(g,"default"))&&a.push(h)}}const u=[o,a];return X(t)&&r.set(t,u),u}function bn(t){return t[0]!=="$"&&!zt(t)}const Yr=t=>t[0]==="_"||t==="$stable",Xr=t=>I(t)?t.map(je):[je(t)],nl=(t,e,s)=>{if(e._n)return e;const r=ja((...n)=>Xr(e(...n)),s);return r._c=!1,r},eo=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Yr(n))continue;const i=t[n];if(D(i))e[n]=nl(n,i,r);else if(i!=null){const o=Xr(i);e[n]=()=>o}}},to=(t,e)=>{const s=Xr(e);t.slots.default=()=>s},so=(t,e,s)=>{for(const r in e)(s||!Yr(r))&&(t[r]=e[r])},il=(t,e,s)=>{const r=t.slots=Qi();if(t.vnode.shapeFlag&32){const n=e.__;n&&vr(r,"__",n,!0);const i=e._;i?(so(r,e,s),s&&vr(r,"_",i,!0)):eo(e,r)}else e&&to(t,e)},ol=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=G;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:so(n,e,s):(i=!e.$stable,eo(e,n)),o=e}else e&&(to(t,e),o={default:1});if(i)for(const a in n)!Yr(a)&&o[a]==null&&delete n[a]},_e=wl;function al(t){return ll(t)}function ll(t,e){const s=Ws();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=Re,insertStaticContent:b}=t,P=(f,d,_,m=null,v=null,y=null,x=void 0,E=null,S=!!d.dynamicChildren)=>{if(f===d)return;f&&!Ht(f,d)&&(m=ms(f),Ee(f,v,y,!0),f=null),d.patchFlag===-2&&(S=!1,d.dynamicChildren=null);const{type:w,ref:C,shapeFlag:O}=d;switch(w){case Gs:A(f,d,_,m);break;case Rt:R(f,d,_,m);break;case lr:f==null&&M(d,_,m,x);break;case Se:_s(f,d,_,m,v,y,x,E,S);break;default:O&1?U(f,d,_,m,v,y,x,E,S):O&6?vs(f,d,_,m,v,y,x,E,S):(O&64||O&128)&&w.process(f,d,_,m,v,y,x,E,S,Mt)}C!=null&&v?Yt(C,f&&f.ref,y,d||f,!d):C==null&&f&&f.ref!=null&&Yt(f.ref,null,y,f,!0)},A=(f,d,_,m)=>{if(f==null)r(d.el=a(d.children),_,m);else{const v=d.el=f.el;d.children!==f.children&&u(v,d.children)}},R=(f,d,_,m)=>{f==null?r(d.el=l(d.children||""),_,m):d.el=f.el},M=(f,d,_,m)=>{[f.el,f.anchor]=b(f.children,d,_,m,f.el,f.anchor)},k=({el:f,anchor:d},_,m)=>{let v;for(;f&&f!==d;)v=p(f),r(f,_,m),f=v;r(d,_,m)},T=({el:f,anchor:d})=>{let _;for(;f&&f!==d;)_=p(f),n(f),f=_;n(d)},U=(f,d,_,m,v,y,x,E,S)=>{d.type==="svg"?x="svg":d.type==="math"&&(x="mathml"),f==null?B(d,_,m,v,y,x,E,S):gs(f,d,v,y,x,E,S)},B=(f,d,_,m,v,y,x,E)=>{let S,w;const{props:C,shapeFlag:O,transition:j,dirs:$}=f;if(S=f.el=o(f.type,y,C&&C.is,C),O&8?c(S,f.children):O&16&&qe(f.children,S,null,m,v,or(f,y),x,E),$&&rt(f,null,m,"created"),Q(S,f,f.scopeId,x,m),C){for(const V in C)V!=="value"&&!zt(V)&&i(S,V,null,C[V],y,m);"value"in C&&i(S,"value",null,C.value,y),(w=C.onVnodeBeforeMount)&&Pe(w,m,f)}$&&rt(f,null,m,"beforeMount");const N=cl(v,j);N&&j.beforeEnter(S),r(S,d,_),((w=C&&C.onVnodeMounted)||N||$)&&_e(()=>{w&&Pe(w,m,f),N&&j.enter(S),$&&rt(f,null,m,"mounted")},v)},Q=(f,d,_,m,v)=>{if(_&&g(f,_),m)for(let y=0;y<m.length;y++)g(f,m[y]);if(v){let y=v.subTree;if(d===y||lo(y.type)&&(y.ssContent===d||y.ssFallback===d)){const x=v.vnode;Q(f,x,x.scopeId,x.slotScopeIds,v.parent)}}},qe=(f,d,_,m,v,y,x,E,S=0)=>{for(let w=S;w<f.length;w++){const C=f[w]=E?Ke(f[w]):je(f[w]);P(null,C,d,_,m,v,y,x,E)}},gs=(f,d,_,m,v,y,x)=>{const E=d.el=f.el;let{patchFlag:S,dynamicChildren:w,dirs:C}=d;S|=f.patchFlag&16;const O=f.props||G,j=d.props||G;let $;if(_&&nt(_,!1),($=j.onVnodeBeforeUpdate)&&Pe($,_,d,f),C&&rt(d,f,_,"beforeUpdate"),_&&nt(_,!0),(O.innerHTML&&j.innerHTML==null||O.textContent&&j.textContent==null)&&c(E,""),w?et(f.dynamicChildren,w,E,_,m,or(d,v),y):x||K(f,d,E,null,_,m,or(d,v),y,!1),S>0){if(S&16)Ut(E,O,j,_,v);else if(S&2&&O.class!==j.class&&i(E,"class",null,j.class,v),S&4&&i(E,"style",O.style,j.style,v),S&8){const N=d.dynamicProps;for(let V=0;V<N.length;V++){const W=N[V],he=O[W],fe=j[W];(fe!==he||W==="value")&&i(E,W,he,fe,v,_)}}S&1&&f.children!==d.children&&c(E,d.children)}else!x&&w==null&&Ut(E,O,j,_,v);(($=j.onVnodeUpdated)||C)&&_e(()=>{$&&Pe($,_,d,f),C&&rt(d,f,_,"updated")},m)},et=(f,d,_,m,v,y,x)=>{for(let E=0;E<d.length;E++){const S=f[E],w=d[E],C=S.el&&(S.type===Se||!Ht(S,w)||S.shapeFlag&198)?h(S.el):_;P(S,w,C,null,m,v,y,x,!0)}},Ut=(f,d,_,m,v)=>{if(d!==_){if(d!==G)for(const y in d)!zt(y)&&!(y in _)&&i(f,y,d[y],null,v,m);for(const y in _){if(zt(y))continue;const x=_[y],E=d[y];x!==E&&y!=="value"&&i(f,y,E,x,v,m)}"value"in _&&i(f,"value",d.value,_.value,v)}},_s=(f,d,_,m,v,y,x,E,S)=>{const w=d.el=f?f.el:a(""),C=d.anchor=f?f.anchor:a("");let{patchFlag:O,dynamicChildren:j,slotScopeIds:$}=d;$&&(E=E?E.concat($):$),f==null?(r(w,_,m),r(C,_,m),qe(d.children||[],_,C,v,y,x,E,S)):O>0&&O&64&&j&&f.dynamicChildren?(et(f.dynamicChildren,j,_,v,y,x,E),(d.key!=null||v&&d===v.subTree)&&ro(f,d,!0)):K(f,d,_,C,v,y,x,E,S)},vs=(f,d,_,m,v,y,x,E,S)=>{d.slotScopeIds=E,f==null?d.shapeFlag&512?v.ctx.activate(d,_,m,x,S):Ys(d,_,m,v,y,x,S):an(f,d,S)},Ys=(f,d,_,m,v,y,x)=>{const E=f.component=Pl(f,m,v);if(qi(f)&&(E.ctx.renderer=Mt),Al(E,!1,x),E.asyncDep){if(v&&v.registerDep(E,ae,x),!f.el){const S=E.subTree=ht(Rt);R(null,S,d,_)}}else ae(E,f,d,_,v,y,x)},an=(f,d,_)=>{const m=d.component=f.component;if(yl(f,d,_))if(m.asyncDep&&!m.asyncResolved){Y(m,d,_);return}else m.next=d,m.update();else d.el=f.el,m.vnode=d},ae=(f,d,_,m,v,y,x)=>{const E=()=>{if(f.isMounted){let{next:O,bu:j,u:$,parent:N,vnode:V}=f;{const xe=no(f);if(xe){O&&(O.el=V.el,Y(f,O,x)),xe.asyncDep.then(()=>{f.isUnmounted||E()});return}}let W=O,he;nt(f,!1),O?(O.el=V.el,Y(f,O,x)):O=V,j&&er(j),(he=O.props&&O.props.onVnodeBeforeUpdate)&&Pe(he,N,O,V),nt(f,!0);const fe=Tn(f),ke=f.subTree;f.subTree=fe,P(ke,fe,h(ke.el),ms(ke),f,v,y),O.el=fe.el,W===null&&ml(f,fe.el),$&&_e($,v),(he=O.props&&O.props.onVnodeUpdated)&&_e(()=>Pe(he,N,O,V),v)}else{let O;const{el:j,props:$}=d,{bm:N,m:V,parent:W,root:he,type:fe}=f,ke=Xt(d);nt(f,!1),N&&er(N),!ke&&(O=$&&$.onVnodeBeforeMount)&&Pe(O,W,d),nt(f,!0);{he.ce&&he.ce._def.shadowRoot!==!1&&he.ce._injectChildStyle(fe);const xe=f.subTree=Tn(f);P(null,xe,_,m,f,v,y),d.el=xe.el}if(V&&_e(V,v),!ke&&(O=$&&$.onVnodeMounted)){const xe=d;_e(()=>Pe(O,W,xe),v)}(d.shapeFlag&256||W&&Xt(W.vnode)&&W.vnode.shapeFlag&256)&&f.a&&_e(f.a,v),f.isMounted=!0,d=_=m=null}};f.scope.on();const S=f.effect=new wi(E);f.scope.off();const w=f.update=S.run.bind(S),C=f.job=S.runIfDirty.bind(S);C.i=f,C.id=f.uid,S.scheduler=()=>Gr(C),nt(f,!0),w()},Y=(f,d,_)=>{d.component=f;const m=f.vnode.props;f.vnode=d,f.next=null,sl(f,d.props,m,_),ol(f,d.children,_),Fe(),gn(f),Ne()},K=(f,d,_,m,v,y,x,E,S=!1)=>{const w=f&&f.children,C=f?f.shapeFlag:0,O=d.children,{patchFlag:j,shapeFlag:$}=d;if(j>0){if(j&128){ys(w,O,_,m,v,y,x,E,S);return}else if(j&256){tt(w,O,_,m,v,y,x,E,S);return}}$&8?(C&16&&Dt(w,v,y),O!==w&&c(_,O)):C&16?$&16?ys(w,O,_,m,v,y,x,E,S):Dt(w,v,y,!0):(C&8&&c(_,""),$&16&&qe(O,_,m,v,y,x,E,S))},tt=(f,d,_,m,v,y,x,E,S)=>{f=f||xt,d=d||xt;const w=f.length,C=d.length,O=Math.min(w,C);let j;for(j=0;j<O;j++){const $=d[j]=S?Ke(d[j]):je(d[j]);P(f[j],$,_,null,v,y,x,E,S)}w>C?Dt(f,v,y,!0,!1,O):qe(d,_,m,v,y,x,E,S,O)},ys=(f,d,_,m,v,y,x,E,S)=>{let w=0;const C=d.length;let O=f.length-1,j=C-1;for(;w<=O&&w<=j;){const $=f[w],N=d[w]=S?Ke(d[w]):je(d[w]);if(Ht($,N))P($,N,_,null,v,y,x,E,S);else break;w++}for(;w<=O&&w<=j;){const $=f[O],N=d[j]=S?Ke(d[j]):je(d[j]);if(Ht($,N))P($,N,_,null,v,y,x,E,S);else break;O--,j--}if(w>O){if(w<=j){const $=j+1,N=$<C?d[$].el:m;for(;w<=j;)P(null,d[w]=S?Ke(d[w]):je(d[w]),_,N,v,y,x,E,S),w++}}else if(w>j)for(;w<=O;)Ee(f[w],v,y,!0),w++;else{const $=w,N=w,V=new Map;for(w=N;w<=j;w++){const ge=d[w]=S?Ke(d[w]):je(d[w]);ge.key!=null&&V.set(ge.key,w)}let W,he=0;const fe=j-N+1;let ke=!1,xe=0;const Ft=new Array(fe);for(w=0;w<fe;w++)Ft[w]=0;for(w=$;w<=O;w++){const ge=f[w];if(he>=fe){Ee(ge,v,y,!0);continue}let Oe;if(ge.key!=null)Oe=V.get(ge.key);else for(W=N;W<=j;W++)if(Ft[W-N]===0&&Ht(ge,d[W])){Oe=W;break}Oe===void 0?Ee(ge,v,y,!0):(Ft[Oe-N]=w+1,Oe>=xe?xe=Oe:ke=!0,P(ge,d[Oe],_,null,v,y,x,E,S),he++)}const un=ke?ul(Ft):xt;for(W=un.length-1,w=fe-1;w>=0;w--){const ge=N+w,Oe=d[ge],hn=ge+1<C?d[ge+1].el:m;Ft[w]===0?P(null,Oe,_,hn,v,y,x,E,S):ke&&(W<0||w!==un[W]?st(Oe,_,hn,2):W--)}}},st=(f,d,_,m,v=null)=>{const{el:y,type:x,transition:E,children:S,shapeFlag:w}=f;if(w&6){st(f.component.subTree,d,_,m);return}if(w&128){f.suspense.move(d,_,m);return}if(w&64){x.move(f,d,_,Mt);return}if(x===Se){r(y,d,_);for(let O=0;O<S.length;O++)st(S[O],d,_,m);r(f.anchor,d,_);return}if(x===lr){k(f,d,_);return}if(m!==2&&w&1&&E)if(m===0)E.beforeEnter(y),r(y,d,_),_e(()=>E.enter(y),v);else{const{leave:O,delayLeave:j,afterLeave:$}=E,N=()=>{f.ctx.isUnmounted?n(y):r(y,d,_)},V=()=>{O(y,()=>{N(),$&&$()})};j?j(y,N,V):V()}else r(y,d,_)},Ee=(f,d,_,m=!1,v=!1)=>{const{type:y,props:x,ref:E,children:S,dynamicChildren:w,shapeFlag:C,patchFlag:O,dirs:j,cacheIndex:$}=f;if(O===-2&&(v=!1),E!=null&&(Fe(),Yt(E,null,_,f,!0),Ne()),$!=null&&(d.renderCache[$]=void 0),C&256){d.ctx.deactivate(f);return}const N=C&1&&j,V=!Xt(f);let W;if(V&&(W=x&&x.onVnodeBeforeUnmount)&&Pe(W,d,f),C&6)Uo(f.component,_,m);else{if(C&128){f.suspense.unmount(_,m);return}N&&rt(f,null,d,"beforeUnmount"),C&64?f.type.remove(f,d,_,Mt,m):w&&!w.hasOnce&&(y!==Se||O>0&&O&64)?Dt(w,d,_,!1,!0):(y===Se&&O&384||!v&&C&16)&&Dt(S,d,_),m&&ln(f)}(V&&(W=x&&x.onVnodeUnmounted)||N)&&_e(()=>{W&&Pe(W,d,f),N&&rt(f,null,d,"unmounted")},_)},ln=f=>{const{type:d,el:_,anchor:m,transition:v}=f;if(d===Se){Lo(_,m);return}if(d===lr){T(f);return}const y=()=>{n(_),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(f.shapeFlag&1&&v&&!v.persisted){const{leave:x,delayLeave:E}=v,S=()=>x(_,y);E?E(f.el,y,S):S()}else y()},Lo=(f,d)=>{let _;for(;f!==d;)_=p(f),n(f),f=_;n(d)},Uo=(f,d,_)=>{const{bum:m,scope:v,job:y,subTree:x,um:E,m:S,a:w,parent:C,slots:{__:O}}=f;Sn(S),Sn(w),m&&er(m),C&&I(O)&&O.forEach(j=>{C.renderCache[j]=void 0}),v.stop(),y&&(y.flags|=8,Ee(x,f,d,_)),E&&_e(E,d),_e(()=>{f.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Dt=(f,d,_,m=!1,v=!1,y=0)=>{for(let x=y;x<f.length;x++)Ee(f[x],d,_,m,v)},ms=f=>{if(f.shapeFlag&6)return ms(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const d=p(f.anchor||f.el),_=d&&d[Ca];return _?p(_):d};let Xs=!1;const cn=(f,d,_)=>{f==null?d._vnode&&Ee(d._vnode,null,null,!0):P(d._vnode||null,f,d,null,null,null,_),d._vnode=f,Xs||(Xs=!0,gn(),Mi(),Xs=!1)},Mt={p:P,um:Ee,m:st,r:ln,mt:Ys,mc:qe,pc:K,pbc:et,n:ms,o:t};return{render:cn,hydrate:void 0,createApp:Za(cn)}}function or({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function nt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function cl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ro(t,e,s=!1){const r=t.children,n=e.children;if(I(r)&&I(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Ke(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&ro(o,a)),a.type===Gs&&(a.el=o.el),a.type===Rt&&!a.el&&(a.el=o.el)}}function ul(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function no(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:no(e)}function Sn(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const hl=Symbol.for("v-scx"),fl=()=>As(hl);function ar(t,e,s){return io(t,e,s)}function io(t,e,s=G){const{immediate:r,deep:n,flush:i,once:o}=s,a=oe({},s),l=e&&r||!e&&i!=="post";let u;if(cs){if(i==="sync"){const g=fl();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Re,g.resume=Re,g.pause=Re,g}}const c=ue;a.call=(g,b,P)=>$e(g,c,b,P);let h=!1;i==="post"?a.scheduler=g=>{_e(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,b)=>{b?g():Gr(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=ka(t,e,a);return cs&&(u?u.push(p):l&&p()),p}function dl(t,e,s){const r=this.proxy,n=Z(t)?t.includes(".")?oo(r,t):()=>r[t]:t.bind(r,r);let i;D(e)?i=e:(i=e.handler,s=e);const o=fs(this),a=io(n,i.bind(r),s);return o(),a}function oo(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const pl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Qe(e)}Modifiers`]||t[`${ft(e)}Modifiers`];function gl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||G;let n=s;const i=e.startsWith("update:"),o=i&&pl(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>Z(c)?c.trim():c)),o.number&&(n=s.map(qo)));let a,l=r[a=Zs(e)]||r[a=Zs(Qe(e))];!l&&i&&(l=r[a=Zs(ft(e))]),l&&$e(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,$e(u,t,6,n)}}function ao(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!D(t)){const l=u=>{const c=ao(u,e,!0);c&&(a=!0,oe(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(X(t)&&r.set(t,null),null):(I(i)?i.forEach(l=>o[l]=null):oe(o,i),X(t)&&r.set(t,o),o)}function zs(t,e){return!t||!Bs(e)?!1:(e=e.slice(2).replace(/Once$/,""),H(t,e[0].toLowerCase()+e.slice(1))||H(t,ft(e))||H(t,e))}function Tn(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:b,inheritAttrs:P}=t,A=Us(t);let R,M;try{if(s.shapeFlag&4){const T=n||r,U=T;R=je(u.call(U,T,c,h,g,p,b)),M=a}else{const T=e;R=je(T.length>1?T(h,{attrs:a,slots:o,emit:l}):T(h,null)),M=e.props?a:_l(a)}}catch(T){es.length=0,Vs(T,t,1),R=ht(Rt)}let k=R;if(M&&P!==!1){const T=Object.keys(M),{shapeFlag:U}=k;T.length&&U&7&&(i&&T.some(Dr)&&(M=vl(M,i)),k=$t(k,M,!1,!0))}return s.dirs&&(k=$t(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(s.dirs):s.dirs),s.transition&&Qr(k,s.transition),R=k,Us(A),R}const _l=t=>{let e;for(const s in t)(s==="class"||s==="style"||Bs(s))&&((e||(e={}))[s]=t[s]);return e},vl=(t,e)=>{const s={};for(const r in t)(!Dr(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function yl(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?En(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==r[p]&&!zs(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?En(r,o,u):!0:!!o;return!1}function En(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!zs(s,i))return!0}return!1}function ml({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const lo=t=>t.__isSuspense;function wl(t,e){e&&e.pendingBranch?I(t)?e.effects.push(...t):e.effects.push(t):Aa(t)}const Se=Symbol.for("v-fgt"),Gs=Symbol.for("v-txt"),Rt=Symbol.for("v-cmt"),lr=Symbol.for("v-stc"),es=[];let ve=null;function Bt(t=!1){es.push(ve=t?null:[])}function bl(){es.pop(),ve=es[es.length-1]||null}let ls=1;function kn(t,e=!1){ls+=t,t<0&&ve&&e&&(ve.hasOnce=!0)}function Sl(t){return t.dynamicChildren=ls>0?ve||xt:null,bl(),ls>0&&ve&&ve.push(t),t}function qt(t,e,s,r,n,i){return Sl(ye(t,e,s,r,n,i,!0))}function co(t){return t?t.__v_isVNode===!0:!1}function Ht(t,e){return t.type===e.type&&t.key===e.key}const uo=({key:t})=>t??null,js=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Z(t)||ie(t)||D(t)?{i:Ce,r:t,k:e,f:!!s}:t:null);function ye(t,e=null,s=null,r=0,n=null,i=t===Se?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&uo(e),ref:e&&js(e),scopeId:Ni,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ce};return a?(Zr(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=Z(s)?8:16),ls>0&&!o&&ve&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ve.push(l),l}const ht=Tl;function Tl(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Ka)&&(t=Rt),co(t)){const a=$t(t,e,!0);return s&&Zr(a,s),ls>0&&!i&&ve&&(a.shapeFlag&6?ve[ve.indexOf(t)]=a:ve.push(a)),a.patchFlag=-2,a}if($l(t)&&(t=t.__vccOpts),e){e=El(e);let{class:a,style:l}=e;a&&!Z(a)&&(e.class=Pt(a)),X(l)&&(zr(l)&&!I(l)&&(l=oe({},l)),e.style=Nr(l))}const o=Z(t)?1:lo(t)?128:Ra(t)?64:X(t)?4:D(t)?2:0;return ye(t,e,s,r,n,o,i,!0)}function El(t){return t?zr(t)||Yi(t)?oe({},t):t:null}function $t(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?kl(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&uo(u),ref:e&&e.ref?s&&i?I(i)?i.concat(js(e)):[i,js(e)]:js(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Se?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$t(t.ssContent),ssFallback:t.ssFallback&&$t(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Qr(c,l.clone(c)),c}function Cs(t=" ",e=0){return ht(Gs,null,t,e)}function je(t){return t==null||typeof t=="boolean"?ht(Rt):I(t)?ht(Se,null,t.slice()):co(t)?Ke(t):ht(Gs,null,String(t))}function Ke(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:$t(t)}function Zr(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(I(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Zr(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Yi(e)?e._ctx=Ce:n===3&&Ce&&(Ce.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else D(e)?(e={default:e,_ctx:Ce},s=32):(e=String(e),r&64?(s=16,e=[Cs(e)]):s=8);t.children=e,t.shapeFlag|=s}function kl(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Pt([e.class,r.class]));else if(n==="style")e.style=Nr([e.style,r.style]);else if(Bs(n)){const i=e[n],o=r[n];o&&i!==o&&!(I(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Pe(t,e,s,r=null){$e(t,e,7,[s,r])}const xl=zi();let Ol=0;function Pl(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||xl,i={uid:Ol++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Go(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zi(r,n),emitsOptions:ao(r,n),emit:null,emitted:null,propsDefaults:G,inheritAttrs:r.inheritAttrs,ctx:G,data:G,props:G,attrs:G,slots:G,refs:G,setupState:G,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=gl.bind(null,i),t.ce&&t.ce(i),i}let ue=null,Ms,xr;{const t=Ws(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Ms=e("__VUE_INSTANCE_SETTERS__",s=>ue=s),xr=e("__VUE_SSR_SETTERS__",s=>cs=s)}const fs=t=>{const e=ue;return Ms(t),t.scope.on(),()=>{t.scope.off(),Ms(e)}},xn=()=>{ue&&ue.scope.off(),Ms(null)};function ho(t){return t.vnode.shapeFlag&4}let cs=!1;function Al(t,e=!1,s=!1){e&&xr(e);const{props:r,children:n}=t.vnode,i=ho(t);tl(t,r,i,e),il(t,n,s||e);const o=i?jl(t,e):void 0;return e&&xr(!1),o}function jl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Va);const{setup:r}=s;if(r){Fe();const n=t.setupContext=r.length>1?Rl(t):null,i=fs(t),o=hs(r,t,0,[t.props,n]),a=di(o);if(Ne(),i(),(a||t.sp)&&!Xt(t)&&Bi(t),a){if(o.then(xn,xn),e)return o.then(l=>{On(t,l)}).catch(l=>{Vs(l,t,0)});t.asyncDep=o}else On(t,o)}else fo(t)}function On(t,e,s){D(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:X(e)&&(t.setupState=Li(e)),fo(t)}function fo(t,e,s){const r=t.type;t.render||(t.render=r.render||Re);{const n=fs(t);Fe();try{Ja(t)}finally{Ne(),n()}}}const Cl={get(t,e){return ne(t,"get",""),t[e]}};function Rl(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Cl),slots:t.slots,emit:t.emit,expose:e}}function en(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Li(_a(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Zt)return Zt[s](t)},has(e,s){return s in e||s in Zt}})):t.proxy}function $l(t){return D(t)&&"__vccOpts"in t}const po=(t,e)=>Ta(t,e,cs),Il="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Or;const Pn=typeof window<"u"&&window.trustedTypes;if(Pn)try{Or=Pn.createPolicy("vue",{createHTML:t=>t})}catch{}const go=Or?t=>Or.createHTML(t):t=>t,Ll="http://www.w3.org/2000/svg",Ul="http://www.w3.org/1998/Math/MathML",Ue=typeof document<"u"?document:null,An=Ue&&Ue.createElement("template"),Dl={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Ue.createElementNS(Ll,t):e==="mathml"?Ue.createElementNS(Ul,t):s?Ue.createElement(t,{is:s}):Ue.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Ue.createTextNode(t),createComment:t=>Ue.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ue.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{An.innerHTML=go(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=An.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Ml=Symbol("_vtc");function Fl(t,e,s){const r=t[Ml];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const jn=Symbol("_vod"),Nl=Symbol("_vsh"),Bl=Symbol(""),ql=/(^|;)\s*display\s*:/;function Hl(t,e,s){const r=t.style,n=Z(s);let i=!1;if(s&&!n){if(e)if(Z(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Rs(r,a,"")}else for(const o in e)s[o]==null&&Rs(r,o,"");for(const o in s)o==="display"&&(i=!0),Rs(r,o,s[o])}else if(n){if(e!==s){const o=r[Bl];o&&(s+=";"+o),r.cssText=s,i=ql.test(s)}}else e&&t.removeAttribute("style");jn in t&&(t[jn]=i?r.display:"",t[Nl]&&(r.display="none"))}const Cn=/\s*!important$/;function Rs(t,e,s){if(I(s))s.forEach(r=>Rs(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Wl(t,e);Cn.test(s)?t.setProperty(ft(r),s.replace(Cn,""),"important"):t[r]=s}}const Rn=["Webkit","Moz","ms"],cr={};function Wl(t,e){const s=cr[e];if(s)return s;let r=Qe(e);if(r!=="filter"&&r in t)return cr[e]=r;r=_i(r);for(let n=0;n<Rn.length;n++){const i=Rn[n]+r;if(i in t)return cr[e]=i}return e}const $n="http://www.w3.org/1999/xlink";function In(t,e,s,r,n,i=zo(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS($n,e.slice(6,e.length)):t.setAttributeNS($n,e,s):s==null||i&&!vi(s)?t.removeAttribute(e):t.setAttribute(e,i?"":Xe(s)?String(s):s)}function Ln(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?go(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=vi(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Kl(t,e,s,r){t.addEventListener(e,s,r)}function Vl(t,e,s,r){t.removeEventListener(e,s,r)}const Un=Symbol("_vei");function Jl(t,e,s,r,n=null){const i=t[Un]||(t[Un]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=zl(e);if(r){const u=i[e]=Yl(r,n);Kl(t,a,u,l)}else o&&(Vl(t,a,o,l),i[e]=void 0)}}const Dn=/(?:Once|Passive|Capture)$/;function zl(t){let e;if(Dn.test(t)){e={};let r;for(;r=t.match(Dn);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ft(t.slice(2)),e]}let ur=0;const Gl=Promise.resolve(),Ql=()=>ur||(Gl.then(()=>ur=0),ur=Date.now());function Yl(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;$e(Xl(r,s.value),e,5,[r])};return s.value=t,s.attached=Ql(),s}function Xl(t,e){if(I(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Mn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Zl=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Fl(t,r,o):e==="style"?Hl(t,s,r):Bs(e)?Dr(e)||Jl(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ec(t,e,r,o))?(Ln(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&In(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Z(r))?Ln(t,Qe(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),In(t,e,r,o))};function ec(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Mn(e)&&D(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Mn(e)&&Z(s)?!1:e in t}const tc=oe({patchProp:Zl},Dl);let Fn;function sc(){return Fn||(Fn=al(tc))}const rc=(...t)=>{const e=sc().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=ic(r);if(!n)return;const i=e._component;!D(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,nc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function nc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ic(t){return Z(t)?document.querySelector(t):t}const oc="modulepreload",ac=function(t){return"/"+t},Nn={},ds=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=ac(l),l in Nn)return;Nn[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":oc,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},lc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ds(async()=>{const{default:r}=await Promise.resolve().then(()=>Lt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class tn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class cc extends tn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class uc extends tn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hc extends tn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Pr||(Pr={}));var fc=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class dc{constructor(e,{headers:s={},customFetch:r,region:n=Pr.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=lc(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return fc(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(b=>{throw new cc(b)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new uc(c);if(!c.ok)throw new hc(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}function pc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var ee={},gt={},_t={},vt={},yt={},mt={},_c=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},It=_c();const vc=It.fetch,_o=It.fetch.bind(It),vo=It.Headers,yc=It.Request,mc=It.Response,Lt=Object.freeze(Object.defineProperty({__proto__:null,Headers:vo,Request:yc,Response:mc,default:_o,fetch:vc},Symbol.toStringTag,{value:"Module"})),wc=gc(Lt);var Ts={},Bn;function yo(){if(Bn)return Ts;Bn=1,Object.defineProperty(Ts,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ts.default=t,Ts}var qn;function mo(){if(qn)return mt;qn=1;var t=mt&&mt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(mt,"__esModule",{value:!0});const e=t(wc),s=t(yo());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,p;let g=null,b=null,P=null,A=u.status,R=u.statusText;if(u.ok){if(this.method!=="HEAD"){const U=await u.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=U:b=JSON.parse(U))}const k=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),T=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");k&&T&&T.length>1&&(P=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,P=null,A=406,R="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const k=await u.text();try{g=JSON.parse(k),Array.isArray(g)&&u.status===404&&(b=[],g=null,A=200,R="OK")}catch{u.status===404&&k===""?(A=204,R="No Content"):g={message:k}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,A=200,R="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:b,count:P,status:A,statusText:R}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,p;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return mt.default=r,mt}var Hn;function wo(){if(Hn)return yt;Hn=1;var t=yt&&yt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yt,"__esModule",{value:!0});const e=t(mo());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return yt.default=s,yt}var Wn;function sn(){if(Wn)return vt;Wn=1;var t=vt&&vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vt,"__esModule",{value:!0});const e=t(wo());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return vt.default=s,vt}var Kn;function bo(){if(Kn)return _t;Kn=1;var t=_t&&_t.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_t,"__esModule",{value:!0});const e=t(sn());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return _t.default=s,_t}var Wt={},Kt={},Vn;function bc(){return Vn||(Vn=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.version=void 0,Kt.version="0.0.0-automated"),Kt}var Jn;function Sc(){if(Jn)return Wt;Jn=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.DEFAULT_HEADERS=void 0;const t=bc();return Wt.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Wt}var zn;function Tc(){if(zn)return gt;zn=1;var t=gt&&gt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(gt,"__esModule",{value:!0});const e=t(bo()),s=t(sn()),r=Sc();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const p=new URL(`${this.url}/rpc/${o}`);let g;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([P,A])=>A!==void 0).map(([P,A])=>[P,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([P,A])=>{p.searchParams.append(P,A)})):(h="POST",g=a);const b=Object.assign({},this.headers);return c&&(b.Prefer=`count=${c}`),new s.default({method:h,url:p,headers:b,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return gt.default=n,gt}var Gn;function Ec(){if(Gn)return ee;Gn=1;var t=ee&&ee.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ee,"__esModule",{value:!0}),ee.PostgrestError=ee.PostgrestBuilder=ee.PostgrestTransformBuilder=ee.PostgrestFilterBuilder=ee.PostgrestQueryBuilder=ee.PostgrestClient=void 0;const e=t(Tc());ee.PostgrestClient=e.default;const s=t(bo());ee.PostgrestQueryBuilder=s.default;const r=t(sn());ee.PostgrestFilterBuilder=r.default;const n=t(wo());ee.PostgrestTransformBuilder=n.default;const i=t(mo());ee.PostgrestBuilder=i.default;const o=t(yo());return ee.PostgrestError=o.default,ee.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},ee}var kc=Ec();const xc=pc(kc),{PostgrestClient:Oc,PostgrestQueryBuilder:yh,PostgrestFilterBuilder:mh,PostgrestTransformBuilder:wh,PostgrestBuilder:bh,PostgrestError:Sh}=xc;function Pc(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Ac=Pc(),jc="2.11.15",Cc=`realtime-js/${jc}`,Rc="1.0.0",So=1e4,$c=1e3;var ts;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ts||(ts={}));var re;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(re||(re={}));var be;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(be||(be={}));var Ar;(function(t){t.websocket="websocket"})(Ar||(Ar={}));var ct;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ct||(ct={}));class Ic{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class To{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(J||(J={}));const Qn=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Lc(o,t,e,n),i),{})},Lc=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Eo(i,o):jr(o)},Eo=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Fc(e,s)}switch(t){case J.bool:return Uc(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Dc(e);case J.json:case J.jsonb:return Mc(e);case J.timestamp:return Nc(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return jr(e);default:return jr(e)}},jr=t=>t,Uc=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Dc=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Mc=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Fc=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Eo(e,a))}return t},Nc=t=>typeof t=="string"?t.replace(" ","T"):t,ko=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class hr{constructor(e,s,r={},n=So){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Yn;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Yn||(Yn={}));class ss{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ss.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=ss.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=ss.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(A=>A.presence_ref),g=h.map(A=>A.presence_ref),b=c.filter(A=>g.indexOf(A.presence_ref)<0),P=h.filter(A=>p.indexOf(A.presence_ref)<0);b.length>0&&(a[u]=b),P.length>0&&(l[u]=P)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xn;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Xn||(Xn={}));var Zn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zn||(Zn={}));var De;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(De||(De={}));class rn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new hr(this,be.join,this.params,this.timeout),this.rejoinTimer=new To(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=re.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(be.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new ss(this),this.broadcastEndpointURL=ko(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==re.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(De.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(De.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(De.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,b=[];for(let P=0;P<g;P++){const A=p[P],{filter:{event:R,schema:M,table:k,filter:T}}=A,U=c&&c[P];if(U&&U.event===R&&U.schema===M&&U.table===k&&U.filter===T)b.push(Object.assign(Object.assign({},A),{id:U.id}));else{this.unsubscribe(),this.state=re.errored,e==null||e(De.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(De.SUBSCRIBED);return}}).receive("error",c=>{this.state=re.errored,e==null||e(De.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(De.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=re.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(be.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new hr(this,be.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new hr(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=be;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var b,P,A;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((A=(P=g.filter)===null||P===void 0?void 0:P.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var b,P,A,R,M,k;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const T=g.id,U=(b=g.filter)===null||b===void 0?void 0:b.event;return T&&((P=s.ids)===null||P===void 0?void 0:P.includes(T))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const T=(M=(R=g==null?void 0:g.filter)===null||R===void 0?void 0:R.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return T==="*"||T===((k=s==null?void 0:s.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:P,table:A,commit_timestamp:R,type:M,errors:k}=b;p=Object.assign(Object.assign({},{schema:P,table:A,commit_timestamp:R,eventType:M,new:{},old:{},errors:k}),this._getPayloadRecords(b))}g.callback(p,r)})}_isClosed(){return this.state===re.closed}_isJoined(){return this.state===re.joined}_isJoining(){return this.state===re.joining}_isLeaving(){return this.state===re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&rn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(be.close,{},e)}_onError(e){this._on(be.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Qn(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Qn(e.columns,e.old_record)),s}}const ei=()=>{},Bc=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qc{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=So,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ei,this.ref=0,this.logger=ei,this.conn=null,this.sendBuffer=[],this.serializer=new Ic,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ds(async()=>{const{default:l}=await Promise.resolve().then(()=>Lt);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Ar.websocket}`,this.httpEndpoint=ko(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new To(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ac),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rc}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ts.connecting:return ct.Connecting;case ts.open:return ct.Open;case ts.closing:return ct.Closing;default:return ct.Closed}}isConnected(){return this.connectionState()===ct.Open}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new rn(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:Cc};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(be.access_token,{access_token:s})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close($c,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;r==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(be.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Bc],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class nn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Hc extends nn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Cr extends nn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Wc=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const xo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ds(async()=>{const{default:r}=await Promise.resolve().then(()=>Lt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Kc=()=>Wc(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ds(()=>Promise.resolve().then(()=>Lt),void 0)).Response:Response}),Rr=t=>{if(Array.isArray(t))return t.map(s=>Rr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Rr(r)}),e};var dt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const fr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Vc=(t,e,s)=>dt(void 0,void 0,void 0,function*(){const r=yield Kc();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new Hc(fr(n),t.status||500))}).catch(n=>{e(new Cr(fr(n),n))}):e(new Cr(fr(t),t))}),Jc=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function ps(t,e,s,r,n,i){return dt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Jc(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Vc(l,a,r))})})}function Fs(t,e,s,r){return dt(this,void 0,void 0,function*(){return ps(t,"GET",e,s,r)})}function Ve(t,e,s,r,n){return dt(this,void 0,void 0,function*(){return ps(t,"POST",e,r,n,s)})}function zc(t,e,s,r,n){return dt(this,void 0,void 0,function*(){return ps(t,"PUT",e,r,n,s)})}function Gc(t,e,s,r){return dt(this,void 0,void 0,function*(){return ps(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Oo(t,e,s,r,n){return dt(this,void 0,void 0,function*(){return ps(t,"DELETE",e,r,n,s)})}var de=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Qc={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ti={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Yc{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=xo(n)}uploadOrUpdate(e,s,r,n){return de(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ti),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(te(i))return{data:null,error:i};throw i}})}upload(e,s,r){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return de(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:ti.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(te(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return de(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Ve(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new nn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}update(e,s,r){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return de(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}copy(e,s,r){return de(this,void 0,void 0,function*(){try{return{data:{path:(yield Ve(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return de(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Ve(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return de(this,void 0,void 0,function*(){try{const n=yield Ve(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}download(e,s){return de(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Fs(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(te(a))return{data:null,error:a};throw a}})}info(e){return de(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Fs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Rr(r),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}exists(e){return de(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Gc(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(te(r)&&r instanceof Cr){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return de(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}list(e,s,r){return de(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Qc),s),{prefix:e||""});return{data:yield Ve(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Xc="2.7.1",Zc={"X-Client-Info":`storage-js/${Xc}`};var wt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class eu{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Zc),s),this.fetch=xo(r)}listBuckets(){return wt(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(te(e))return{data:null,error:e};throw e}})}getBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return wt(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return wt(this,void 0,void 0,function*(){try{return{data:yield zc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}emptyBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}deleteBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}}class tu extends eu{constructor(e,s={},r){super(e,s,r)}from(e){return new Yc(this.url,this.headers,e,this.fetch)}}const su="2.50.2";let Jt="";typeof Deno<"u"?Jt="deno":typeof document<"u"?Jt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jt="react-native":Jt="node";const ru={"X-Client-Info":`supabase-js-${Jt}/${su}`},nu={headers:ru},iu={schema:"public"},ou={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},au={};var lu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const cu=t=>{let e;return t?e=t:typeof fetch>"u"?e=_o:e=fetch,(...s)=>e(...s)},uu=()=>typeof Headers>"u"?vo:Headers,hu=(t,e,s)=>{const r=cu(s),n=uu();return(i,o)=>lu(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var fu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function du(t){return t.endsWith("/")?t:t+"/"}function pu(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>fu(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const Po="2.70.0",kt=30*1e3,$r=3,dr=$r*kt,gu="http://localhost:9999",_u="supabase.auth.token",vu={"X-Client-Info":`gotrue-js/${Po}`},Ir="X-Supabase-Api-Version",Ao={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yu=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mu=6e5;class on extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wu extends on{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function bu(t){return L(t)&&t.name==="AuthApiError"}class jo extends on{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Ze extends on{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class He extends Ze{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Su(t){return L(t)&&t.name==="AuthSessionMissingError"}class Es extends Ze{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ks extends Ze{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xs extends Ze{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tu(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class si extends Ze{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lr extends Ze{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function pr(t){return L(t)&&t.name==="AuthRetryableFetchError"}class ri extends Ze{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class rs extends Ze{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ns="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ni=` 	
\r=`.split(""),Eu=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ni.length;e+=1)t[ni[e].charCodeAt(0)]=-2;for(let e=0;e<Ns.length;e+=1)t[Ns[e].charCodeAt(0)]=e;return t})();function ii(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Ns[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Ns[r]),e.queuedBits-=6}}function Co(t,e,s){const r=Eu[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function oi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Ou(o,r,s)};for(let o=0;o<t.length;o+=1)Co(t.charCodeAt(o),n,i);return e.join("")}function ku(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function xu(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}ku(r,e)}}function Ou(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Pu(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Co(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Au(t){const e=[];return xu(t,s=>e.push(s)),new Uint8Array(e)}function ju(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>ii(n,s,r)),ii(null,s,r),e.join("")}function Cu(t){return Math.round(Date.now()/1e3)+t}function Ru(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const we=()=>typeof window<"u"&&typeof document<"u",it={tested:!1,writable:!1},ns=()=>{if(!we())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(it.tested)return it.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),it.tested=!0,it.writable=!0}catch{it.tested=!0,it.writable=!1}return it.writable};function $u(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Ro=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ds(async()=>{const{default:r}=await Promise.resolve().then(()=>Lt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Iu=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$o=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Os=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ps=async(t,e)=>{await t.removeItem(e)};class Qs{constructor(){this.promise=new Qs.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Qs.promiseConstructor=Promise;function gr(t){const e=t.split(".");if(e.length!==3)throw new rs("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!yu.test(e[r]))throw new rs("JWT not in base64url format");return{header:JSON.parse(oi(e[0])),payload:JSON.parse(oi(e[1])),signature:Pu(e[2]),raw:{header:e[0],payload:e[1]}}}async function Lu(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Uu(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Du(t){return("0"+t.toString(16)).substr(-2)}function Mu(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Du).join("")}async function Fu(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Nu(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Fu(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bt(t,e,s=!1){const r=Mu();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await $o(t,`${e}-code-verifier`,n);const i=await Nu(r);return[i,r===i?"plain":"s256"]}const Bu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qu(t){const e=t.headers.get(Ir);if(!e||!e.match(Bu))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Hu(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Wu(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ku=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function St(t){if(!Ku.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Vu=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const lt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ju=[502,503,504];async function ai(t){var e;if(!Iu(t))throw new Lr(lt(t),0);if(Ju.includes(t.status))throw new Lr(lt(t),t.status);let s;try{s=await t.json()}catch(i){throw new jo(lt(i),i)}let r;const n=qu(t);if(n&&n.getTime()>=Ao["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new ri(lt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new He}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ri(lt(s),t.status,s.weak_password.reasons);throw new wu(lt(s),t.status||500,r)}const zu=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function F(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Ir]||(i[Ir]=Ao["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Gu(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Gu(t,e,s,r,n,i){const o=zu(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Lr(lt(l),0)}if(a.ok||await ai(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await ai(l)}}function Le(t){var e;let s=null;Zu(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Cu(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function li(t){const e=Le(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ze(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Qu(t){return{data:t,error:null}}function Yu(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Vu(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Xu(t){return t}function Zu(t){return t.access_token&&t.refresh_token&&t.expires_in}const _r=["global","local","others"];var eh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class th{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Ro(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=_r[0]){if(_r.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_r.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ze})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=eh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Yu,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(L(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ze})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Xu});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{const P=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(b.split(";")[1].split("=")[1]);u[`${A}Page`]=P}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){St(e);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ze})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){St(e);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:ze})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){St(e);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:ze})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){St(e.userId);try{const{data:s,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(L(s))return{data:null,error:s};throw s}}async _deleteFactor(e){St(e.userId),St(e.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}}const sh={getItem:t=>ns()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ns()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ns()&&globalThis.localStorage.removeItem(t)}};function ci(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function rh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tt={debug:!!(globalThis&&ns()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Io extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nh extends Io{}async function ih(t,e,s){Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new nh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Tt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}rh();const oh={url:gu,storageKey:_u,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ui(t,e,s){return await s()}class us{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=us.nextInstanceID,us.nextInstanceID+=1,this.instanceID>0&&we()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},oh),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new th({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Ro(n.fetch),this.lock=n.lock||ui,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:we()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=ih:this.lock=ui,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:ns()?this.storage=sh:(this.memoryStorage={},this.storage=ci(this.memoryStorage)):(this.memoryStorage={},this.storage=ci(this.memoryStorage)),we()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Po}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=$u(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),we()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Tu(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return L(s)?{error:s}:{error:new jo("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Le}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await bt(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:b},xform:Le})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Le})}else throw new ks("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:li})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:li})}else throw new ks("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Es}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,i,o,a,l,u,c,h,p,g;let b,P;if("message"in e)b=e.message,P=e.signature;else{const{chain:A,wallet:R,statement:M,options:k}=e;let T;if(we())if(typeof R=="object")T=R;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))T=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=R}const U=new URL((s=k==null?void 0:k.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in T&&T.signIn){const B=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),M?{statement:M}:null));let Q;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")Q=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)Q=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)b=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),P=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${U.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(n=(r=k==null?void 0:k.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=k==null?void 0:k.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((h=(c=k==null?void 0:k.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...k.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const B=await T.signMessage(new TextEncoder().encode(b),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=B}}try{const{data:A,error:R}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ju(P)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Le});if(R)throw R;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new Es}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:R})}catch(A){if(L(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const s=await Os(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Le});if(await Ps(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Es}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Le}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Es}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await bt(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ks("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Le});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await bt(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Qu})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new He;const{error:n}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await F(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await F(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ks("You must provide either an email or phone number and a type")}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<dr:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ze}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new He}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:ze})})}catch(s){if(L(s))return Su(s)&&(await this._removeSession(),await Ps(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new He;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await bt(this.storage,this.storageKey));const{data:u,error:c}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ze});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new He;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=gr(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(L(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new He;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!we())throw new xs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new si("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new si("No code detected.");const{data:M,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new xs("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=kt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const b=p-h;c-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,c):c-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,c);const{data:P,error:A}=await this._getUser(i);if(A)throw A;const R={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Os(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(bu(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ps(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Ru(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await bt(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return we()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Uu(async n=>(n>0&&await Lu(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Le})),(n,i)=>{const o=200*Math.pow(2,n);return i&&pr(i)&&Date.now()+o-r<kt})}catch(r){if(this._debug(s,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),we()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Os(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<dr;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${dr}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),pr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new He;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Qs;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new He;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),L(i)){const o={session:null,error:i};return pr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $o(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ps(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&we()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/kt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${kt}ms, refresh threshold is ${$r} ticks`),n<=$r&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Io)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!we()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await bt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(L(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(L(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=gr(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+mu>Date.now()))return r;const{data:n,error:i}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new rs("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new rs("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:b}=await this.getSession();if(b||!g.session)return{data:null,error:b};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=gr(r);if(Hu(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=Wu(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Au(`${a}.${l}`)))throw new rs("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}us.nextInstanceID=0;const ah=us;class lh extends ah{constructor(e){super(e)}}var ch=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class uh{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=du(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:iu,realtime:au,auth:Object.assign(Object.assign({},ou),{storageKey:u}),global:nu},h=pu(r??{},c);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=hu(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Oc(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new dc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new tu(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return ch(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lh({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new qc(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hh=(t,e,s)=>new uh(t,e,s),fh="https://broggmsfoemiqyiwszcy.supabase.co",dh="sb_publishable_8NwA5CcEkTCthh6hiZDqZg_EpI_z1dM",hi={supabaseUrl:fh,supabaseKey:dh},ph={id:"app"},gh={class:"container"},_h=$a({__name:"App",setup(t){const e=hh(hi.supabaseUrl,hi.supabaseKey),s=va([]),r=po(()=>{const n={};return s.value.forEach(i=>{const o=JSON.parse(i.war_data);o.clan.members.forEach(a=>{n[a.tag]?(n[a.tag].attacks.push(...a.attacks),n[a.tag].totalAttacks+=o.attacksPerMember):n[a.tag]={totalAttacks:o.attacksPerMember,name:a.name,attacks:a.attacks}})}),n});return Wi(async()=>{const{data:n,error:i}=await e.from("clan_wars").select("*");i?console.error("Error fetching clan wars:",i):s.value=n}),(n,i)=>(Bt(),qt("div",ph,[i[4]||(i[4]=ye("h1",null,"Drago Nero",-1)),ye("div",gh,[(Bt(!0),qt(Se,null,_n(r.value,(o,a)=>(Bt(),qt("div",{class:"card",key:a},[ye("h2",null,ot(o.name)+" ("+ot(a)+") Attacchi: "+ot(o.attacks.length)+" su "+ot(o.totalAttacks),1),i[3]||(i[3]=ye("br",null,null,-1)),(Bt(!0),qt(Se,null,_n(o.attacks,l=>(Bt(),qt("div",null,[ye("strong",null,[ye("strong",{class:Pt(l.stars>=1?"filled":"empty")},"★",2),ye("strong",{class:Pt(l.stars>=2?"filled":"empty")},"★",2),ye("strong",{class:Pt(l.stars>=3?"filled":"empty")},"★",2)]),i[0]||(i[0]=Cs("- ")),i[1]||(i[1]=ye("strong",null,"Destruction:",-1)),Cs(" "+ot(l.destruction)+"% - ",1),i[2]||(i[2]=ye("strong",null,"Enemy Tag:",-1)),Cs(" "+ot(l.defenderTag),1)]))),256))]))),128))])]))}});rc(_h).mount("#app");
